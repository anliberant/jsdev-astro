---
title: Howto Master Data Fetching in React with SWR
slug: swr-react
heading: How to Use SWR for Data Fetching in React
icon: /icons/react.png
image: /icon.png
permalink: howto/swr-react
date: 2024-10-11
author: anton liberant
category: react
type: howto
tags: ['data-fetching', 'swr']
desc: SWR fetches cached data instantly while revalidating in the background, enabling fast, responsive, realâ€‘time React interfaces with minimal boilerplate.
---

Modern React apps rely heavily on smooth, efficient data fetching. But managing loading states, caching, revalidation, retry logic, and UI updates manually quickly becomes messy.  
**SWR** (Staleâ€‘Whileâ€‘Revalidate), created by Vercel, solves these problems with a tiny API and powerful builtâ€‘in behaviors.

By the end of this guide, youâ€™ll understand how SWR handles caching, background updates, mutations, revalidation, polling, and error handlingâ€”all while keeping your components clean and predictable.

---

## What Is SWR?

SWR is built around a simple but powerful idea:

**Serve cached data immediately â†’ fetch fresh data in the background â†’ update UI automatically**

This creates a UI that feels fast, responsive, and always upâ€‘toâ€‘date.

Key benefits:

- âš¡ Instant rendering from cache  
- ðŸ”„ Automatic revalidation  
- ðŸ” Retry logic with exponential backoff  
- ðŸ” Real-time updates (focus, reconnect, polling)  
- ðŸ”§ Easy mutations (POST, PUT, DELETE)  
- ðŸ§µ Minimal boilerplate  

---

## Installing SWR

```bash
npm install swr
```

---

## Basic Example

```jsx
import useSWR from 'swr';

const fetcher = url => fetch(url).then(r => r.json());

function Profile() {
  const { data, error } = useSWR('/api/user', fetcher);

  if (error) return <div>Failed to load user</div>;
  if (!data) return <div>Loadingâ€¦</div>;

  return (
    <div>
      <h1>{data.name}</h1>
      <p>{data.email}</p>
    </div>
  );
}

export default Profile;
```

### Why this works so well:

- SWR shows cached data immediately  
- Then fetches fresh data  
- Then updates the UI **automatically**  
- And does this again when you focus the tab or reconnect  

---

## Useful SWR Features

### 1. Revalidate On Focus

```jsx
useSWR('/api/user', fetcher, { revalidateOnFocus: true });
```

Your UI updates instantly whenever the user returns to the tab.

---

### 2. Error Retry

```jsx
useSWR('/api/user', fetcher, { shouldRetryOnError: true });
```

Uses exponential backoff internally.

---

### 3. Mutations (Update Data Without Re-fetch)

```jsx
import useSWR, { mutate } from 'swr';

const fetcher = url => fetch(url).then(r => r.json());

function Profile() {
  const { data } = useSWR('/api/user', fetcher);

  const updateUser = async () => {
    await fetch('/api/user', {
      method: 'PUT',
      body: JSON.stringify({ name: 'New Name' }),
    });
    mutate('/api/user'); // refresh cache
  };

  return (
    <div>
      <h1>{data?.name}</h1>
      <button onClick={updateUser}>Update Name</button>
    </div>
  );
}
```

This updates the cached data **instantly**, even before the server responds.

---

### 4. Polling (Refresh Interval)

```jsx
useSWR('/api/user', fetcher, { refreshInterval: 5000 });
```

Great for dashboards and realâ€‘time systems.

---

## Why Choose SWR Over Other Tools?

| Feature | SWR | React Query |
|--------|-----|-------------|
| Size | Lightweight | Larger |
| Learning curve | Very easy | More concepts |
| Realâ€‘time focus | Strong | Also strong |
| Best for | Client-side React apps | Complex multi-cache apps |

If you need a simple, powerful, lightweight data fetching solutionâ€”SWR is ideal.

---

## Conclusion

SWR gives you:

- Instant cached data  
- Background revalidation  
- Automatic UI updates  
- Minimal code  
- A smooth, realâ€‘time feel  

Once you start using SWR, itâ€™s hard to go back to manual `useEffect` + `fetch` boilerplate.  
To explore more advanced features (pagination, optimistic updates, key generators), check the official docs:

ðŸ‘‰ https://swr.vercel.app/docs/getting-started

If you want, I can generate:
- a **Next.js SWR example**,  
- a **custom SWR fetcher with Axios**,  
- or a **full SWR + TypeScript cheat sheet**.